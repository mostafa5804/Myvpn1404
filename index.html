<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VPN Hub Pro</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e293b">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --text: #f8fafc; --accent: #38bdf8; --green: #22c55e; --yellow: #eab308; --red: #ef4444; }
        * { box-sizing: border-box; font-family: 'Vazirmatn', sans-serif; margin: 0; padding: 0; }
        body { background: var(--bg); color: var(--text); padding-bottom: 80px; }
        header { background: rgba(30,41,59,0.9); backdrop-filter: blur(10px); padding: 15px; position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; }
        h2 { font-size: 1.2rem; background: linear-gradient(45deg, #38bdf8, #818cf8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; padding: 15px; max-width: 800px; margin: 0 auto; }
        .stat-box { background: var(--card); padding: 15px; border-radius: 12px; text-align: center; border: 1px solid #334155; }
        .stat-num { display: block; font-size: 1.5rem; font-weight: bold; color: var(--accent); }
        .stat-label { font-size: 0.8rem; color: #94a3b8; }
        .sub-box { background: linear-gradient(135deg, #4f46e5, #ec4899); margin: 15px; padding: 20px; border-radius: 15px; text-align: center; color: white; max-width: 800px; margin: 15px auto; }
        .sub-btn { display: inline-block; background: white; color: #4f46e5; padding: 10px 20px; border-radius: 8px; text-decoration: none; font-weight: bold; margin-top: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); cursor: pointer; }
        .list { display: grid; gap: 15px; padding: 15px; max-width: 800px; margin: 0 auto; }
        .card { background: var(--card); border-radius: 15px; padding: 15px; border: 1px solid #334155; transition: transform 0.2s; }
        .card:active { transform: scale(0.98); }
        .card-head { display: flex; justify-content: space-between; margin-bottom: 10px; align-items: center; }
        .badge { padding: 4px 8px; border-radius: 6px; font-size: 0.75rem; font-weight: bold; }
        .proto { background: #334155; color: #cbd5e1; }
        .score.high { background: rgba(34,197,94,0.2); color: var(--green); }
        .score.mid { background: rgba(234,179,8,0.2); color: var(--yellow); }
        .score.low { background: rgba(239,68,68,0.2); color: var(--red); }
        .flag { font-size: 1.2rem; }
        .info { display: flex; justify-content: space-between; font-size: 0.8rem; color: #94a3b8; margin-bottom: 8px; }
        .code-box { background: #0b1120; padding: 10px; border-radius: 8px; font-family: monospace; color: #a5b4fc; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; cursor: pointer; direction: ltr; }
        .actions { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 8px; margin-top: 12px; }
        .btn { border: none; padding: 10px; border-radius: 8px; font-weight: bold; cursor: pointer; color: white; }
        .copy { background: var(--accent); }
        .qr { background: #6366f1; }
        .link { background: #334155; text-decoration: none; text-align: center; font-size: 0.9rem; display: flex; align-items: center; justify-content: center; }
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--green); color: white; padding: 10px 20px; border-radius: 50px; opacity: 0; transition: 0.3s; pointer-events: none; z-index: 200; }
        .toast.show { opacity: 1; bottom: 40px; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 300; justify-content: center; align-items: center; }
        .modal-content { background: var(--card); padding: 20px; border-radius: 20px; text-align: center; max-width: 90%; }
        #qrcode { margin: 20px auto; background: white; padding: 10px; border-radius: 10px; }
        .close-btn { background: var(--red); margin-top: 10px; width: 100%; }
        #installBtn { display: none; position: fixed; bottom: 20px; right: 20px; background: var(--accent); color: #0f172a; border: none; padding: 12px 20px; border-radius: 50px; font-weight: bold; box-shadow: 0 4px 15px rgba(56,189,248,0.4); cursor: pointer; z-index: 90; }
    </style>
</head>
<body>
    <header>
        <h2>ğŸ’ VPN Hub Pro</h2>
        <small>1404/11/17 - 13:38</small>
    </header>
    
    <div class="stats">
        <div class="stat-box"><span class="stat-num">0</span><span class="stat-label">Ú©Ù„ Ú©Ø§Ù†ÙÛŒÚ¯</span></div>
        <div class="stat-box"><span class="stat-num">0</span><span class="stat-label">Ú©ÛŒÙÛŒØª Ø¹Ø§Ù„ÛŒ</span></div>
        <div class="stat-box"><span class="stat-num">0</span><span class="stat-label">Ù¾ÛŒÙ†Ú¯ Ù…ÛŒØ§Ù†Ú¯ÛŒÙ†</span></div>
    </div>
    
    
    
    <div class="list">
        
    </div>
    
    <button id="installBtn">ğŸ“² Ù†ØµØ¨ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†</button>
    <div id="toast" class="toast">Ú©Ù¾ÛŒ Ø´Ø¯!</div>
    
    <div id="qrModal" class="modal">
        <div class="modal-content">
            <h3>Ø§Ø³Ú©Ù† Ú©Ù†ÛŒØ¯</h3>
            <div id="qrcode"></div>
            <button class="btn close-btn" onclick="document.getElementById('qrModal').style.display='none'">Ø¨Ø³ØªÙ†</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        function copyTxt(txt) {
            navigator.clipboard.writeText(txt).then(() => {
                const t = document.getElementById('toast');
                t.innerText = 'Ú©Ù¾ÛŒ Ø´Ø¯!';
                t.classList.add('show');
                setTimeout(() => t.classList.remove('show'), 2000);
            });
        }
        
        function selectText(el) {
            const range = document.createRange();
            range.selectNodeContents(el);
            const sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        }
        
        function showQR(txt) {
            const m = document.getElementById('qrModal');
            const q = document.getElementById('qrcode');
            q.innerHTML = '';
            new QRCode(q, {text: txt, width: 200, height: 200});
            m.style.display = 'flex';
        }
        
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            const btn = document.getElementById('installBtn');
            btn.style.display = 'block';
            btn.addEventListener('click', () => {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choice) => {
                    if(choice.outcome === 'accepted') btn.style.display = 'none';
                    deferredPrompt = null;
                });
            });
        });
        
        if('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
    </script>
</body>
</html>